<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë‘ë ˆìƒí˜‘ ì„¤ë§ì´ ì¦ì •í–‰ì‚¬ 1íƒ„</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --green: #4a6741;
            --green-dark: #3a5331;
            --red: #c41230;
            --gold: #d4a853;
            --text: #2d2d2d;
            --text-light: #555;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            color: var(--text);
            -webkit-font-smoothing: antialiased;
        }

        /* í—¤ë” */
        .header {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            padding: 12px 16px;
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="hp"><feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23425d3a" surfaceScale="2"><feDistantLight azimuth="45" elevation="60"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23hp)"/></svg>'),
                linear-gradient(135deg, #4a6741 0%, #3a5331 100%);
            background-color: #4a6741;
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid rgba(212,168,83,0.5);
            box-shadow: 0 2px 15px rgba(0,0,0,0.15);
        }

        .header-left { text-align: left; }
        .header-sub {
            font-size: 10px;
            letter-spacing: 1.5px;
            color: rgba(255,255,255,0.8);
            font-weight: 500;
        }
        .header-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 14px;
            font-weight: 700;
            margin-top: 2px;
            color: #fff;
        }

        .header-visitors {
            display: flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, var(--gold) 0%, #c9973d 100%);
            padding: 6px 12px;
            border-radius: 16px;
            color: #fff;
            box-shadow: 0 2px 8px rgba(212,168,83,0.4);
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        .visitor-count { font-size: 12px; font-weight: 600; }

        /* ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° */
        .dots {
            position: fixed;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 3px;
            background: rgba(196,18,48,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .dot.active {
            height: 20px;
            background: var(--red);
        }

        /* ì¹´ë“œ ê³µí†µ */
        .card {
            min-height: 100vh;
            min-height: 100dvh;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 65px 24px 35px;
            text-align: center;
            position: relative;
        }

        /* ì¢…ì´ ì§ˆê° ë°°ê²½ë“¤ */
        .bg-cream-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="paper"><feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23faf6ef" surfaceScale="2"><feDistantLight azimuth="45" elevation="60"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23paper)"/></svg>'),
                linear-gradient(180deg, #fdf9f3 0%, #f5efe5 100%);
            background-color: #f8f4ec;
        }

        .bg-kraft-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="kraft"><feTurbulence type="fractalNoise" baseFrequency="0.05" numOctaves="4" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23e8dfd0" surfaceScale="1.5"><feDistantLight azimuth="45" elevation="55"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23kraft)"/></svg>'),
                linear-gradient(180deg, #f0e6d8 0%, #e5d9c8 100%);
            background-color: #ebe1d3;
        }

        .bg-red-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="redp"><feTurbulence type="fractalNoise" baseFrequency="0.06" numOctaves="4" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23b8102a" surfaceScale="1"><feDistantLight azimuth="45" elevation="60"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23redp)"/></svg>'),
                linear-gradient(170deg, #c41230 0%, #a01025 100%);
            background-color: #b8102a;
            color: #fff;
        }

        .bg-green-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="greenp"><feTurbulence type="fractalNoise" baseFrequency="0.06" numOctaves="4" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23425d3a" surfaceScale="1"><feDistantLight azimuth="45" elevation="60"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23greenp)"/></svg>'),
                linear-gradient(170deg, #4a6741 0%, #3a5331 100%);
            background-color: #4a6741;
            color: #fff;
        }

        .bg-gold-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="goldp"><feTurbulence type="fractalNoise" baseFrequency="0.05" numOctaves="4" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23f5e6c8" surfaceScale="1.5"><feDistantLight azimuth="45" elevation="55"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23goldp)"/></svg>'),
                linear-gradient(180deg, #faf0dc 0%, #f0e2c8 100%);
            background-color: #f5e8d0;
        }

        .bg-pink-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="pinkp"><feTurbulence type="fractalNoise" baseFrequency="0.05" numOctaves="4" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23fce8e8" surfaceScale="1.5"><feDistantLight azimuth="45" elevation="55"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23pinkp)"/></svg>'),
                linear-gradient(180deg, #fdf2f2 0%, #f8e6e6 100%);
            background-color: #fceaea;
        }

        /* ëª…ì ˆ ì¥ì‹ */
        .seol-deco { font-size: 32px; margin-bottom: 12px; }

        /* íƒ€ì´í¬ê·¸ë˜í”¼ */
        .label {
            font-size: 11px;
            letter-spacing: 3px;
            color: var(--red);
            font-weight: 500;
            margin-bottom: 12px;
        }

        .bg-red-paper .label,
        .bg-green-paper .label { color: rgba(255,255,255,0.7); }

        .title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 28px;
            font-weight: 800;
            line-height: 1.45;
            color: var(--text);
            margin-bottom: 16px;
        }

        .bg-red-paper .title,
        .bg-green-paper .title { color: #fff; }

        /* ìƒ‰ì—°í•„ ê°•ì¡° */
        .hl-red {
            background: linear-gradient(180deg, transparent 50%, rgba(196,18,48,0.2) 50%);
            padding: 0 4px;
        }

        .hl-gold {
            background: linear-gradient(180deg, transparent 50%, rgba(212,168,83,0.35) 50%);
            padding: 0 4px;
        }

        .hl-green {
            background: linear-gradient(180deg, transparent 50%, rgba(74,103,65,0.25) 50%);
            padding: 0 4px;
        }

        .desc {
            font-size: 17px;
            color: var(--text-light);
            line-height: 1.8;
        }

        .bg-red-paper .desc,
        .bg-green-paper .desc { color: rgba(255,255,255,0.9); }

        /* ì´ë¯¸ì§€ */
        .img-frame {
            width: 180px;
            margin: 20px auto;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            background: #fff;
            padding: 10px;
            border: 2px solid var(--gold);
        }

        .img-frame img {
            width: 100%;
            border-radius: 10px;
        }

        /* ë¹„ë””ì˜¤ */
        .video-frame {
            width: 100%;
            max-width: 320px;
            margin: 20px auto;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            border: 3px solid rgba(255,255,255,0.3);
        }

        .video-frame video { width: 100%; display: block; }

        /* ë²„íŠ¼ */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 16px 36px;
            background: var(--red);
            color: #fff;
            text-decoration: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(196,18,48,0.3);
        }

        .btn:active { transform: scale(0.97); }
        .btn-gold { background: var(--gold); box-shadow: 0 4px 15px rgba(212,168,83,0.4); }
        .btn-green { background: var(--green); box-shadow: 0 4px 15px rgba(74,103,65,0.3); }
        .btn-outline { background: rgba(255,255,255,0.15); border: 2px solid rgba(255,255,255,0.5); box-shadow: none; }
        .btn-large { width: 100%; max-width: 300px; justify-content: center; }

        /* íƒœê·¸ */
        .seol-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, var(--gold) 0%, #c9973d 100%);
            color: #fff;
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
            box-shadow: 0 3px 10px rgba(212,168,83,0.3);
        }


        /* íŠ¹ì§• ê·¸ë¦¬ë“œ */
        .feature-intro {
            font-size: 15px;
            color: rgba(255,255,255,0.85);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
            max-width: 320px;
        }

        .feature-item {
            background: rgba(255,255,255,0.15);
            border-radius: 14px;
            padding: 18px 14px;
            backdrop-filter: blur(5px);
        }

        .feature-icon { font-size: 28px; margin-bottom: 8px; }
        .feature-text { font-size: 14px; color: rgba(255,255,255,0.95); font-weight: 500; }

        /* ì‘ì› ë©”ì‹œì§€ ì„¹ì…˜ */
        .cheer-section {
            min-height: 100vh;
            padding: 0;
            display: flex;
            flex-direction: column;
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="cheerp"><feTurbulence type="fractalNoise" baseFrequency="0.05" numOctaves="4" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23e8f0e4" surfaceScale="1.5"><feDistantLight azimuth="45" elevation="55"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23cheerp)"/></svg>'),
                linear-gradient(180deg, #eef4ea 0%, #e0ead8 100%);
            background-color: #e8f0e4;
        }

        .cheer-header {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4"/><feColorMatrix type="saturate" values="0"/></filter><rect width="100" height="100" filter="url(%23n)" opacity="0.08"/></svg>'),
                linear-gradient(135deg, %234a6741 0%, %233a5331 100%);
            background-color: var(--green);
            padding: 20px;
            text-align: center;
            color: #fff;
            flex-shrink: 0;
        }

        .cheer-header h2 {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 20px;
            margin-top: 8px;
        }

        .cheer-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            min-height: 200px;
        }

        .cheer-empty {
            text-align: center;
            color: rgba(0,0,0,0.4);
            padding: 40px 20px;
            font-size: 15px;
        }

        .msg-bubble {
            max-width: 85%;
            margin-bottom: 14px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .msg-user { margin-left: auto; }

        .msg-user .msg-content {
            background: #fff9c4;
            border-radius: 16px 16px 4px 16px;
            padding: 12px 14px;
            font-size: 14px;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .msg-producer {
            display: flex;
            gap: 8px;
            align-items: flex-start;
        }

        .msg-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #fff;
            flex-shrink: 0;
        }

        .msg-producer .msg-content {
            background: #fff;
            border-radius: 16px 16px 16px 4px;
            padding: 12px 14px;
            font-size: 14px;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .msg-time {
            font-size: 10px;
            color: rgba(0,0,0,0.4);
            margin-top: 4px;
            text-align: right;
        }

        /* ì…ë ¥ì°½ */
        .cheer-input-wrap {
            background: rgba(255,255,255,0.95);
            padding: 12px 14px;
            padding-bottom: calc(12px + env(safe-area-inset-bottom));
            border-top: 1px solid rgba(0,0,0,0.1);
            flex-shrink: 0;
            position: sticky;
            bottom: 0;
        }

        .cheer-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .cheer-input input {
            flex: 1;
            border: 1px solid #ddd;
            background: #fff;
            padding: 14px 16px;
            border-radius: 24px;
            font-size: 15px;
            outline: none;
        }

        .cheer-input input:focus {
            border-color: var(--green);
        }

        .cheer-input button {
            background: var(--gold);
            color: #fff;
            border: none;
            border-radius: 12px;
            padding: 14px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            flex-shrink: 0;
        }


        /* í‘¸í„° */
        .footer {
            padding: 24px;
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="fp"><feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23f8f4ec" surfaceScale="2"><feDistantLight azimuth="45" elevation="60"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23fp)"/></svg>'),
                linear-gradient(180deg, #f5efe5 0%, #ebe1d3 100%);
            background-color: #f0e8da;
            text-align: center;
            border-top: 1px solid rgba(196,18,48,0.15);
        }

        .footer p { font-size: 11px; color: var(--red); font-weight: 500; }

        /* ê°ì‚¬ íŒì—… */
        .thank-popup {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .thank-popup-inner {
            background: #fff;
            border-radius: 24px;
            padding: 32px 24px;
            text-align: center;
            max-width: 300px;
            margin: 20px;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .thank-popup h3 {
            font-family: 'Nanum Myeongjo', serif;
            color: var(--green);
            font-size: 20px;
            margin-bottom: 12px;
        }

        .thank-popup p {
            font-size: 16px;
            color: var(--text);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* ë¡œë”© ìƒíƒœ */
        .loading {
            color: rgba(0,0,0,0.4);
            font-size: 13px;
        }

        /* ìƒì„¸ ì •ë³´ ë°•ìŠ¤ */
        .detail-box {
            background: #fff;
            border-radius: 16px;
            padding: 20px;
            margin: 20px auto;
            max-width: 300px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            text-align: left;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 14px;
        }

        .detail-row:last-child { border-bottom: none; }

        .detail-label {
            color: var(--text-light);
            font-weight: 500;
        }

        .detail-value {
            color: var(--text);
            font-weight: 600;
        }

        .detail-value.highlight {
            color: var(--red);
        }

        .kit-list-simple {
            background: rgba(74,103,65,0.08);
            border-radius: 12px;
            padding: 16px 20px;
            margin: 16px auto;
            max-width: 300px;
            text-align: center;
        }

        .kit-list-simple .kit-list-title {
            font-size: 13px;
            color: var(--green);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .kit-list-simple p {
            font-size: 13px;
            color: var(--text-light);
            line-height: 1.6;
        }

        .footer-note {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 16px;
        }

        /* íˆì–´ë¡œ ì„¹ì…˜ */
        .hero {
            min-height: 100vh;
            min-height: 100dvh;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 65px 24px 35px;
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><filter id="hero"><feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" result="noise"/><feDiffuseLighting in="noise" lighting-color="%23425d3a" surfaceScale="2"><feDistantLight azimuth="45" elevation="60"/></feDiffuseLighting></filter><rect width="200" height="200" filter="url(%23hero)"/></svg>'),
                linear-gradient(170deg, #4a6741 0%, #3a5331 100%);
            background-color: #4a6741;
            color: #fff;
            position: relative;
        }

        .hero-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 36px;
            font-weight: 800;
            line-height: 1.4;
            margin-bottom: 20px;
        }

        .hero-title .big {
            font-size: 48px;
            display: block;
            margin-top: 8px;
        }

        .hero-sub {
            font-size: 16px;
            opacity: 0.85;
            line-height: 1.6;
        }

        .scroll-hint {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
        }

        .scroll-hint .arrow {
            font-size: 24px;
            opacity: 0.6;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-left">
            <p class="header-sub">ğŸ§§ 26ë…„ ì„¤ 1ì£¼ ì „</p>
            <p class="header-title">ë‘ë ˆìƒí˜‘ ì¦ì •í–‰ì‚¬ 1íƒ„</p>
        </div>
        <div class="header-visitors">
            <span class="live-dot"></span>
            <span class="visitor-count" id="visitorDisplay">ì ‘ì†ì¤‘</span>
        </div>
    </header>

    <div class="dots" id="dots">
        <div class="dot active" data-i="0"></div>
        <div class="dot" data-i="1"></div>
        <div class="dot" data-i="2"></div>
        <div class="dot" data-i="3"></div>
        <div class="dot" data-i="4"></div>
        <div class="dot" data-i="5"></div>
    </div>

    <!-- 1í˜ì´ì§€: í›„í‚¹ - ê´€ì‹¬ ìœ ë°œ -->
    <section class="hero" data-i="0">
        <h1 class="hero-title">
            ëª…ì ˆ ë§ì´<br>
            <span class="big">ì˜ˆë»ì§€ì„¸ìš”</span>
        </h1>
        <p class="hero-sub">
            ì¡°í•©ì›ë‹˜ê»˜ ì‘ì€ ì„ ë¬¼ ì¤€ë¹„í–ˆì–´ìš”
        </p>
        <div class="scroll-hint">
            <span class="arrow">â†“</span>
        </div>
    </section>

    <!-- 2í˜ì´ì§€: ì œí’ˆ ì†Œê°œ -->
    <section class="card bg-cream-paper" data-i="1">
        <h1 class="title">
            ìƒí˜‘ í™”ì¥í’ˆ<br>
            <span class="hl-green">í’€ë¹›ê³ ìš´</span>
        </h1>
        <div class="img-frame" style="width:220px;">
            <img src="gift_kit.jpg" alt="í’€ë¹›ê³ ìš´ ê¸°ì´ˆ 5ì¢… ìƒ˜í”Œí‚¤íŠ¸">
        </div>
        <p class="desc">
            ê¸°ì´ˆ 5ì¢… ìƒ˜í”Œí‚¤íŠ¸ë¥¼<br>
            ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤
        </p>
    </section>

    <!-- 3í˜ì´ì§€: ì˜¨ë¼ì¸ì ì¥ ì˜ìƒ -->
    <section class="card bg-kraft-paper" data-i="2">
        <h2 class="title">
            <span class="hl-green">ì˜¨ë¼ì¸ì ì¥</span>ì´<br>
            ì§ì ‘ ì¨ë´¤ì–´ìš”
        </h2>
        <div class="video-frame">
            <video autoplay loop muted playsinline preload="auto">
                <source src="GIFT.mp4" type="video/mp4">
            </video>
        </div>
        <p class="desc">
            í”¼ë¶€ê°€ ì¢‹ì•„ì ¸ì„œ ì†Œê°œë“œë ¤ìš”
        </p>
    </section>

    <!-- 4í˜ì´ì§€: ì œí’ˆ íŠ¹ì§• -->
    <section class="card bg-green-paper" data-i="3">
        <h2 class="title" style="margin-bottom:24px;">
            ë¯¿ì„ ìˆ˜ ìˆëŠ”<br>
            ìƒí˜‘ í™”ì¥í’ˆ
        </h2>
        <div class="feature-grid">
            <div class="feature-item">
                <p class="feature-icon">ğŸŒ±</p>
                <p class="feature-text">ë¹„ê±´ ì¸ì¦</p>
            </div>
            <div class="feature-item">
                <p class="feature-icon">ğŸƒ</p>
                <p class="feature-text">ì²œì—° ì„±ë¶„</p>
            </div>
            <div class="feature-item">
                <p class="feature-icon">âœ¨</p>
                <p class="feature-text">í•­ë…¸í™”</p>
            </div>
            <div class="feature-item">
                <p class="feature-icon">âœˆï¸</p>
                <p class="feature-text">íœ´ëŒ€ ê°„í¸</p>
            </div>
        </div>
    </section>

    <!-- 5í˜ì´ì§€: ì˜ê²¬ ë‚¨ê¸°ê¸° -->
    <section class="cheer-section" data-i="4" style="scroll-snap-align: start;">
        <div class="cheer-header">
            <h2>ìƒì‚°ìì—ê²Œ<br>í•œë§ˆë”” ë‚¨ê²¨ì£¼ì„¸ìš”</h2>
        </div>
        <div class="cheer-messages" id="cheerMessages">
            <p class="cheer-empty loading">ë©”ì‹œì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        </div>
        <div class="cheer-input-wrap">
            <div class="cheer-input">
                <input type="text" id="cheerInput" placeholder="ì˜ê²¬ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”" maxlength="100">
                <button onclick="submitCheer()" id="submitBtn">ì „ì†¡</button>
            </div>
        </div>
    </section>

    <!-- 6í˜ì´ì§€: ìƒì„¸ ì •ë³´ ë° CTA (ë§ˆì§€ë§‰) -->
    <section class="card bg-cream-paper" data-i="5">
        <span class="seol-badge">ğŸ ì¦ì • ì•ˆë‚´</span>
        <h2 class="title">
            <span class="hl-red">10ë§Œì›</span> ì´ìƒ êµ¬ë§¤ ì‹œ<br>
            ìƒ˜í”Œí‚¤íŠ¸ ì¦ì •
        </h2>
        <div class="img-frame" style="width:200px;">
            <img src="gift_product.jpg" alt="ìƒ˜í”Œí‚¤íŠ¸">
        </div>

        <!-- ìƒì„¸ ì •ë³´ ë°•ìŠ¤ -->
        <div class="detail-box">
            <div class="detail-row">
                <span class="detail-label">ì¦ì •í’ˆ</span>
                <span class="detail-value">í’€ë¹›ê³ ìš´ ê¸°ì´ˆ 5ì¢… ìƒ˜í”Œí‚¤íŠ¸</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">ìˆ˜ëŸ‰</span>
                <span class="detail-value">3ë°•ìŠ¤ (ì´ 15ê°œ)</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">ì¡°ê±´</span>
                <span class="detail-value">10ë§Œì› ì´ìƒ êµ¬ë§¤</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">ìœ í†µê¸°í•œ</span>
                <span class="detail-value">2028ë…„ 2ì›”</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">í•œì •ìˆ˜ëŸ‰</span>
                <span class="detail-value highlight">3,000ê°œ</span>
            </div>
        </div>

        <div class="kit-list-simple">
            <p class="kit-list-title">ğŸ“¦ 1ë°•ìŠ¤ êµ¬ì„± (5ì¢…)</p>
            <p>ì‹œì¹´ë™ë°± í¬ë¦¼ Â· ë¡œì…˜ Â· í† ë„ˆ Â· ì•„ì´í¬ë¦¼ Â· ì—ì„¼ìŠ¤</p>
        </div>

        <a href="https://ecoop.or.kr/DureShop/recommend.do" class="btn btn-large">ğŸ›’ ì‡¼í•‘ëª° ë°”ë¡œê°€ê¸°</a>
        <p class="footer-note">ì†Œì§„ ì‹œ ì¡°ê¸° ë§ˆê°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
    </section>

    <footer class="footer">
        <p>ğŸ§§ ë‘ë ˆìƒí˜‘ ìƒí™œì˜ ë°œê²¬ Â· 2026 W06 Â· ìƒˆí•´ ë³µ ë§ì´ ë°›ìœ¼ì„¸ìš”!</p>
    </footer>

    <!-- ê°ì‚¬ íŒì—… -->
    <div class="thank-popup" id="thankPopup">
        <div class="thank-popup-inner">
            <p style="font-size:40px; margin-bottom:12px;">ğŸŒ¿</p>
            <h3>í’€ë¹›ê³ ìš´</h3>
            <p id="thankMessage">ê°ì‚¬í•©ë‹ˆë‹¤!</p>
            <button class="btn btn-green" onclick="closeThankPopup()">í™•ì¸</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase ì´ˆê¸°í™”
        const firebaseConfig = {
            apiKey: "AIzaSyDrb6CvMBn9jSfDeuwWseJywFHLbChNr4U",
            authDomain: "durunioncoop.firebaseapp.com",
            projectId: "durunioncoop",
            storageBucket: "durunioncoop.firebasestorage.app",
            messagingSenderId: "439719435906",
            appId: "1:439719435906:web:3d1d841ad6e80939eb5e9b"
        };

        let db;
        let firebaseReady = false;

        try {
            firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();
            firebaseReady = true;
            console.log('Firebase ì—°ê²° ì„±ê³µ');
        } catch (e) {
            console.error('Firebase ì´ˆê¸°í™” ì‹¤íŒ¨:', e);
        }

        // ========== ì‹¤ì‹œê°„ ë°©ë¬¸ì ìˆ˜ ==========
        if (firebaseReady) {
            const visitorDocRef = db.collection('visitors').doc('w06-gift-2026');

            // ë°©ë¬¸ì ìˆ˜ ì¦ê°€ (set with mergeë¡œ ë³€ê²½)
            visitorDocRef.set({
                count: firebase.firestore.FieldValue.increment(1),
                lastVisit: firebase.firestore.FieldValue.serverTimestamp()
            }, { merge: true }).then(() => {
                console.log('ë°©ë¬¸ì ìˆ˜ ì¦ê°€ ì„±ê³µ');
            }).catch((error) => {
                console.error('ë°©ë¬¸ì ìˆ˜ ì¦ê°€ ì‹¤íŒ¨:', error.code, error.message);
                document.getElementById('visitorDisplay').textContent = 'ğŸ”¥';
            });

            // ì‹¤ì‹œê°„ ë°©ë¬¸ì ìˆ˜ ë¦¬ìŠ¤ë„ˆ
            visitorDocRef.onSnapshot((doc) => {
                const display = document.getElementById('visitorDisplay');
                if (doc.exists && doc.data().count) {
                    display.textContent = doc.data().count.toLocaleString() + 'ëª…';
                    console.log('í˜„ì¬ ë°©ë¬¸ì:', doc.data().count);
                } else {
                    display.textContent = '1ëª…';
                }
            }, (error) => {
                console.error('ë°©ë¬¸ì ë¦¬ìŠ¤ë„ˆ ì—ëŸ¬:', error.code, error.message);
                document.getElementById('visitorDisplay').textContent = 'ğŸ”¥';
            });
        } else {
            document.getElementById('visitorDisplay').textContent = 'ì˜¤í”„ë¼ì¸';
        }

        // ========== ë‹µë³€ ë©”ì‹œì§€ ==========
        const replyMessages = [
            "ê°ì‚¬í•©ë‹ˆë‹¤~ ìƒˆí•´ ë³µ ë§ì´ ë°›ìœ¼ì„¸ìš”!",
            "ì†Œì¤‘í•œ ì˜ê²¬ ê°ì‚¬í•´ìš”~",
            "ì¢‹ì€ ì„±ë¶„ë§Œ ë‹´ì„ê²Œìš”~ ê°ì‚¬í•©ë‹ˆë‹¤",
            "ë”°ëœ»í•œ ë§ì”€ ì •ë§ ê°ì‚¬ë“œë ¤ìš”",
            "ì˜¬í•´ë„ ì¢‹ì€ ì œí’ˆìœ¼ë¡œ ë³´ë‹µí• ê²Œìš”!",
            "ì¡°í•©ì›ë‹˜ ë•ë¶„ì— í˜ì´ ë‚©ë‹ˆë‹¤!"
        ];

        // ========== ë©”ì‹œì§€ ê¸°ëŠ¥ ==========
        let messagesRef;
        if (firebaseReady) {
            messagesRef = db.collection('pulbitgoun-messages');

            // ë©”ì‹œì§€ ì‹¤ì‹œê°„ ë¡œë“œ
            messagesRef.orderBy('timestamp', 'desc').limit(50).onSnapshot((snapshot) => {
                const container = document.getElementById('cheerMessages');

                if (snapshot.empty) {
                    container.innerHTML = '<p class="cheer-empty">ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸŒ¿</p>';
                    return;
                }

                container.innerHTML = '';
                const messages = [];
                snapshot.forEach(doc => messages.push({ id: doc.id, ...doc.data() }));
                messages.reverse();

                messages.forEach((msg, idx) => {
                    // ì‚¬ìš©ì ë©”ì‹œì§€
                    const userBubble = document.createElement('div');
                    userBubble.className = 'msg-bubble msg-user';
                    userBubble.innerHTML = `
                        <div class="msg-content">${escapeHtml(msg.text)}</div>
                        <div class="msg-time">${formatTime(msg.timestamp)}</div>
                    `;
                    container.appendChild(userBubble);

                    // ìƒì‚°ì ë‹µë³€
                    const replyBubble = document.createElement('div');
                    replyBubble.className = 'msg-bubble msg-producer';
                    replyBubble.innerHTML = `
                        <div class="msg-avatar">ğŸŒ¿</div>
                        <div>
                            <div class="msg-content">${replyMessages[idx % replyMessages.length]}</div>
                        </div>
                    `;
                    container.appendChild(replyBubble);
                });

                container.scrollTop = container.scrollHeight;
            }, (error) => {
                console.error('ë©”ì‹œì§€ ë¡œë“œ ì—ëŸ¬:', error.code, error.message);
                document.getElementById('cheerMessages').innerHTML = '<p class="cheer-empty">ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸŒ¿</p>';
            });
        } else {
            document.getElementById('cheerMessages').innerHTML = '<p class="cheer-empty">ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸŒ¿</p>';
        }

        // ë©”ì‹œì§€ ì „ì†¡
        function submitCheer() {
            const input = document.getElementById('cheerInput');
            const btn = document.getElementById('submitBtn');
            const text = input.value.trim();

            if (!text) return;

            if (!firebaseReady || !messagesRef) {
                alert('Firebase ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ ì£¼ì„¸ìš”.');
                return;
            }

            btn.disabled = true;
            btn.textContent = 'ì „ì†¡ì¤‘...';

            messagesRef.add({
                text: text,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                input.value = '';
                input.blur();
                btn.disabled = false;
                btn.textContent = 'ì „ì†¡';
                showThankPopup();
                console.log('ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ');
            }).catch((error) => {
                console.error('ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨:', error.code, error.message);
                alert('ì „ì†¡ ì‹¤íŒ¨: ' + error.message + '\n\nFirestore ê·œì¹™ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.');
                btn.disabled = false;
                btn.textContent = 'ì „ì†¡';
            });
        }

        // ì—”í„°í‚¤ ì „ì†¡
        document.getElementById('cheerInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                submitCheer();
            }
        });

        // ê°ì‚¬ íŒì—…
        function showThankPopup() {
            const popup = document.getElementById('thankPopup');
            const msg = document.getElementById('thankMessage');
            msg.textContent = replyMessages[Math.floor(Math.random() * replyMessages.length)];
            popup.style.display = 'flex';
        }

        function closeThankPopup() {
            document.getElementById('thankPopup').style.display = 'none';
        }

        // ì‹œê°„ í¬ë§·
        function formatTime(timestamp) {
            if (!timestamp) return 'ë°©ê¸ˆ';
            try {
                const date = timestamp.toDate();
                const hours = date.getHours();
                const minutes = date.getMinutes().toString().padStart(2, '0');
                const ampm = hours >= 12 ? 'ì˜¤í›„' : 'ì˜¤ì „';
                return `${ampm} ${hours % 12 || 12}:${minutes}`;
            } catch (e) {
                return 'ë°©ê¸ˆ';
            }
        }

        // HTML ì´ìŠ¤ì¼€ì´í”„
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ========== ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ==========
        const cards = document.querySelectorAll('[data-i]');
        const dots = document.querySelectorAll('.dot');

        const obs = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    const i = e.target.dataset.i;
                    dots.forEach((d, idx) => d.classList.toggle('active', idx == i));
                }
            });
        }, { threshold: 0.5 });

        cards.forEach(c => obs.observe(c));
        dots.forEach(d => d.onclick = () => cards[d.dataset.i].scrollIntoView({ behavior: 'smooth' }));
    </script>
</body>
</html>
