<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë‘ë ˆìƒí˜‘ ì„¤ë§ì´ ì¦ì •í–‰ì‚¬ 1íƒ„</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --green: #4a6741;
            --green-dark: #3a5331;
            --green-light: #e8f0e4;
            --cream: #faf6ef;
            --paper: #f5efe6;
            --text: #2d2d2d;
            --text-light: #555;
            --pencil-green: #5d8a4a;
            --pencil-orange: #e07b39;
            --pencil-pink: #d4648a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--cream);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
        }

        /* í—¤ë” */
        .header {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            padding: 12px 20px;
            background: var(--green);
            color: #fff;
            text-align: center;
        }

        .header-sub { font-size: 11px; letter-spacing: 2px; opacity: 0.9; }
        .header-title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 16px;
            font-weight: 700;
            margin-top: 2px;
        }

        /* ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° */
        .dots {
            position: fixed;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 3px;
            background: rgba(74,103,65,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .dot.active {
            height: 20px;
            background: var(--green);
        }

        /* ì¹´ë“œ ê³µí†µ */
        .card {
            min-height: 100vh;
            min-height: 100dvh;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 70px 24px 35px;
            text-align: center;
            position: relative;
        }

        /* ì¢…ì´ ì§ˆê° ë°°ê²½ */
        .bg-paper {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="400" height="400" filter="url(%23n)" opacity="0.03"/></svg>'),
                linear-gradient(180deg, #faf6ef 0%, #f5efe6 100%);
            background-color: var(--paper);
        }

        .bg-kraft {
            background:
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="400" height="400" filter="url(%23n)" opacity="0.05"/></svg>'),
                linear-gradient(180deg, #e8dfd2 0%, #d9cfc0 100%);
            background-color: #e0d6c8;
        }

        .bg-green {
            background: linear-gradient(170deg, var(--green) 0%, var(--green-dark) 100%);
            color: #fff;
        }

        /* íƒ€ì´í¬ê·¸ë˜í”¼ - í¼ì§í•˜ê²Œ */
        .label {
            font-size: 12px;
            letter-spacing: 3px;
            color: var(--green);
            font-weight: 500;
            margin-bottom: 12px;
        }

        .bg-green .label { color: rgba(255,255,255,0.7); }

        .title {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 30px;
            font-weight: 800;
            line-height: 1.45;
            color: var(--text);
            margin-bottom: 16px;
        }

        .bg-green .title { color: #fff; }

        /* ìƒ‰ì—°í•„ ê°•ì¡° */
        .hl-green {
            background: linear-gradient(180deg, transparent 50%, rgba(93,138,74,0.3) 50%);
            padding: 0 4px;
        }

        .hl-orange {
            background: linear-gradient(180deg, transparent 50%, rgba(224,123,57,0.3) 50%);
            padding: 0 4px;
        }

        .hl-pink {
            background: linear-gradient(180deg, transparent 50%, rgba(212,100,138,0.25) 50%);
            padding: 0 4px;
        }

        .desc {
            font-size: 17px;
            color: var(--text-light);
            line-height: 1.8;
        }

        .bg-green .desc { color: rgba(255,255,255,0.9); }

        /* ì´ë¯¸ì§€ */
        .img-frame {
            width: 200px;
            margin: 20px auto;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            background: #fff;
            padding: 10px;
        }

        .img-frame img {
            width: 100%;
            border-radius: 10px;
        }

        /* ë¹„ë””ì˜¤ */
        .video-frame {
            width: 100%;
            max-width: 320px;
            margin: 20px auto;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        }

        .video-frame video { width: 100%; display: block; }

        /* ë²„íŠ¼ */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 16px 36px;
            background: var(--green);
            color: #fff;
            text-decoration: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
            border: none;
            cursor: pointer;
        }

        .btn:active { transform: scale(0.97); }
        .btn-dark { background: #2d2d2d; }
        .btn-outline { background: transparent; border: 2px solid #fff; }
        .btn-large { width: 100%; max-width: 300px; justify-content: center; }

        /* íƒœê·¸ */
        .tag {
            display: inline-block;
            padding: 10px 20px;
            background: var(--green);
            color: #fff;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .tag-alert { background: #d35400; }

        /* êµ¬ì„± ì„¤ëª… */
        .kit-box {
            background: #fff;
            border-radius: 20px;
            padding: 28px 24px;
            margin: 24px auto;
            max-width: 320px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }

        .kit-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .kit-num {
            background: var(--green);
            color: #fff;
            width: 70px;
            height: 70px;
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .kit-num strong { font-size: 32px; font-weight: 800; line-height: 1; }
        .kit-num span { font-size: 13px; margin-top: 2px; }

        .kit-multiply { font-size: 28px; color: var(--pencil-orange); font-weight: 300; }

        .kit-result {
            background: var(--green-light);
            border-radius: 14px;
            padding: 16px;
            text-align: center;
        }

        .kit-result p { font-size: 14px; color: var(--text-light); }
        .kit-result strong {
            display: block;
            font-size: 26px;
            color: var(--green);
            margin-top: 4px;
        }

        .kit-list {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed #ddd;
        }

        .kit-list-title {
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 14px;
        }

        .kit-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 0;
            font-size: 15px;
        }

        .kit-dot {
            width: 22px;
            height: 22px;
            border-radius: 6px;
            flex-shrink: 0;
        }

        /* íŠ¹ì§• ê·¸ë¦¬ë“œ */
        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
            margin-top: 24px;
            max-width: 320px;
        }

        .feature-item {
            background: rgba(255,255,255,0.15);
            border-radius: 14px;
            padding: 18px 14px;
        }

        .feature-icon { font-size: 28px; margin-bottom: 10px; }
        .feature-text { font-size: 14px; color: rgba(255,255,255,0.95); line-height: 1.5; }

        /* ì‘ì› ë©”ì‹œì§€ ì„¹ì…˜ */
        .cheer-section {
            background: #d4e4cf;
            min-height: 100vh;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        .cheer-header {
            background: var(--green);
            padding: 24px 20px;
            text-align: center;
            color: #fff;
        }

        .cheer-header h2 {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 22px;
            margin-top: 10px;
        }

        .cheer-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #d4e4cf;
        }

        .cheer-empty {
            text-align: center;
            color: rgba(0,0,0,0.4);
            padding: 50px 20px;
            font-size: 16px;
        }

        .msg-bubble {
            max-width: 85%;
            margin-bottom: 16px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .msg-user {
            margin-left: auto;
        }

        .msg-user .msg-content {
            background: #fff9c4;
            border-radius: 16px 16px 4px 16px;
            padding: 14px 16px;
            font-size: 15px;
            line-height: 1.6;
        }

        .msg-producer {
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .msg-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #fff;
            flex-shrink: 0;
        }

        .msg-producer .msg-content {
            background: #fff;
            border-radius: 16px 16px 16px 4px;
            padding: 14px 16px;
            font-size: 15px;
            line-height: 1.6;
        }

        .msg-time {
            font-size: 11px;
            color: rgba(0,0,0,0.4);
            margin-top: 4px;
            text-align: right;
        }

        .cheer-input {
            background: #fff;
            padding: 12px 16px;
            display: flex;
            gap: 12px;
            align-items: center;
            border-top: 1px solid #e0e0e0;
        }

        .cheer-input input {
            flex: 1;
            border: 1px solid #e5e5e5;
            background: #f5f5f5;
            padding: 14px 18px;
            border-radius: 24px;
            font-size: 15px;
            outline: none;
        }

        .cheer-input button {
            background: #ffe066;
            color: #333;
            border: none;
            border-radius: 8px;
            padding: 14px 20px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }

        /* ë”°ëœ»í•œ ë¬¸êµ¬ ì• ë‹ˆë©”ì´ì…˜ */
        .warm-text {
            font-size: 15px;
            color: var(--text-light);
            min-height: 50px;
            margin: 16px 0;
            opacity: 0;
            animation: warmFade 0.5s ease forwards;
        }

        @keyframes warmFade {
            to { opacity: 1; }
        }

        /* í‘¸í„° */
        .footer {
            padding: 24px;
            background: var(--green-dark);
            text-align: center;
        }

        .footer p { font-size: 11px; color: rgba(255,255,255,0.5); }

        /* ê°ì‚¬ íŒì—… */
        .thank-popup {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .thank-popup-inner {
            background: #fff;
            border-radius: 24px;
            padding: 32px 24px;
            text-align: center;
            max-width: 300px;
            margin: 20px;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .thank-popup h3 {
            font-family: 'Nanum Myeongjo', serif;
            color: var(--green);
            font-size: 20px;
            margin-bottom: 12px;
        }

        .thank-popup p {
            font-size: 16px;
            color: var(--text);
            line-height: 1.6;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <header class="header">
        <p class="header-sub">26ë…„ ì„¤ 1ì£¼ ì „</p>
        <p class="header-title">ë‘ë ˆìƒí˜‘ ì¦ì •í–‰ì‚¬ 1íƒ„</p>
    </header>

    <div class="dots" id="dots">
        <div class="dot active" data-i="0"></div>
        <div class="dot" data-i="1"></div>
        <div class="dot" data-i="2"></div>
        <div class="dot" data-i="3"></div>
        <div class="dot" data-i="4"></div>
        <div class="dot" data-i="5"></div>
    </div>

    <!-- 1: ì¸íŠ¸ë¡œ -->
    <section class="card bg-paper" data-i="0">
        <span class="tag">SPECIAL GIFT</span>
        <h1 class="title">
            10ë§Œì› ì´ìƒ êµ¬ë§¤í•˜ë©´<br>
            <span class="hl-green">ìƒ˜í”Œí‚¤íŠ¸ 3ë°•ìŠ¤</span><br>
            ë“œë ¤ìš”!
        </h1>
        <div class="img-frame">
            <img src="gift_kit.jpg" alt="í’€ë¹›ê³ ìš´ ê¸°ì´ˆ 5ì¢… ìƒ˜í”Œí‚¤íŠ¸">
        </div>
        <p class="desc">
            í’€ë¹›ê³ ìš´ ê¸°ì´ˆí™”ì¥í’ˆ<br>
            <span class="hl-orange">ë¹„ê±´ Â· ì²œì—° ì¸ì¦</span>
        </p>
        <div class="warm-text" id="warmText1"></div>
        <span class="tag tag-alert">ì„ ì°©ìˆœ 3,000ëª…</span>
        <a href="https://ecoop.or.kr" class="btn">ì£¼ë¬¸í•˜ê¸°</a>
    </section>

    <!-- 2: ì˜ìƒ -->
    <section class="card bg-kraft" data-i="1">
        <p class="label">ONLINE MANAGER</p>
        <h2 class="title">
            ì˜¤ëœë§Œì— ì¸ì‚¬ë“œë¦¬ëŠ”<br>
            <span class="hl-pink">ì˜¨ë¼ì¸ì ì¥</span>ì…ë‹ˆë‹¤
        </h2>
        <div class="video-frame">
            <video autoplay loop muted playsinline preload="auto">
                <source src="GIFT.mp4" type="video/mp4">
            </video>
        </div>
        <p class="desc">
            í’€ë¹›ê³ ìš´ í™”ì¥í’ˆìœ¼ë¡œ ì´ë»ì ¸ì„œ<br>
            ì†Œê°œ ë“œë¦½ë‹ˆë‹¤
        </p>
        <a href="https://ecoop.or.kr" class="btn btn-dark">ì£¼ë¬¸í•˜ê¸°</a>
    </section>

    <!-- 3: êµ¬ì„±í’ˆ ì„¤ëª… -->
    <section class="card bg-paper" data-i="2">
        <p class="label">SAMPLE KIT</p>
        <h2 class="title">
            <span class="hl-green">ì‰½ê²Œ</span> ì•Œë ¤ë“œë¦´ê²Œìš”
        </h2>
        <div class="kit-box">
            <div class="kit-visual">
                <div class="kit-num">
                    <strong>3</strong>
                    <span>ë°•ìŠ¤</span>
                </div>
                <span class="kit-multiply">Ã—</span>
                <div class="kit-num">
                    <strong>5</strong>
                    <span>ì¢…ë¥˜</span>
                </div>
            </div>
            <div class="kit-result">
                <p>ì´</p>
                <strong>15ê°œ ì¦ì •!</strong>
            </div>
            <div class="kit-list">
                <p class="kit-list-title">ğŸ“¦ 1ë°•ìŠ¤ì— ë“¤ì–´ìˆëŠ” 5ì¢…</p>
                <div class="kit-item">
                    <span class="kit-dot" style="background:#4a7c59;"></span>
                    ì‹œì¹´ë™ë°± í¬ë¦¼
                </div>
                <div class="kit-item">
                    <span class="kit-dot" style="background:#6b9b7a;"></span>
                    ì‹œì¹´ë™ë°± ë¡œì…˜
                </div>
                <div class="kit-item">
                    <span class="kit-dot" style="background:#e0e0e0;"></span>
                    ì‹œì¹´ íˆì•Œë£¨ë¡  í† ë„ˆ
                </div>
                <div class="kit-item">
                    <span class="kit-dot" style="background:#f0f0f0; border:1px solid #ddd;"></span>
                    ì‹œì¹´ ë¦´ë ‰ìŠ¤ ì•„ì´í¬ë¦¼
                </div>
                <div class="kit-item">
                    <span class="kit-dot" style="background:#6d5344;"></span>
                    ì‹œì¹´ ë¹„íƒ€ë¯¼ ì—ì„¼ìŠ¤
                </div>
            </div>
        </div>
        <a href="https://ecoop.or.kr" class="btn">ì£¼ë¬¸í•˜ê¸°</a>
    </section>

    <!-- 4: íŠ¹ì§• -->
    <section class="card bg-green" data-i="3">
        <p class="label">WHY PULBITGOUN</p>
        <h2 class="title">
            ë¯¿ì„ ìˆ˜ ìˆëŠ”<br>
            <span style="color:#c9e4b8;">ìƒí˜‘ í™”ì¥í’ˆ</span>
        </h2>
        <div class="feature-grid">
            <div class="feature-item">
                <p class="feature-icon">ğŸŒ±</p>
                <p class="feature-text"><strong>ë¹„ê±´ ì¸ì¦</strong><br>ë™ë¬¼ì‹¤í—˜ NO</p>
            </div>
            <div class="feature-item">
                <p class="feature-icon">ğŸƒ</p>
                <p class="feature-text"><strong>ì²œì—° ì¸ì¦</strong><br>ì•ˆì‹¬ ì„±ë¶„</p>
            </div>
            <div class="feature-item">
                <p class="feature-icon">âœ¨</p>
                <p class="feature-text"><strong>í•­ë…¸í™”</strong><br>íƒ„ë ¥ ì¼€ì–´</p>
            </div>
            <div class="feature-item">
                <p class="feature-icon">âœˆï¸</p>
                <p class="feature-text"><strong>ì—¬í–‰ìš©</strong><br>íœ´ëŒ€ ê°„í¸</p>
            </div>
        </div>
        <p class="desc" style="margin-top:24px;">
            ìœ í†µê¸°í•œ <span class="hl-orange">2028ë…„ 2ì›”</span>ê¹Œì§€ ë„‰ë„‰!
        </p>
        <a href="https://ecoop.or.kr" class="btn btn-outline">ì£¼ë¬¸í•˜ê¸°</a>
    </section>

    <!-- 5: ì‘ì› ë©”ì‹œì§€ -->
    <section class="cheer-section" data-i="4" style="scroll-snap-align: start;">
        <div class="cheer-header">
            <span class="tag" style="background:rgba(255,255,255,0.2);">ğŸ’¬ ì˜ê²¬ ë‚¨ê¸°ê¸°</span>
            <h2>í’€ë¹›ê³ ìš´ ìƒì‚°ìì—ê²Œ<br>í•œë§ˆë”” ë‚¨ê²¨ì£¼ì„¸ìš”</h2>
        </div>
        <div class="cheer-messages" id="cheerMessages">
            <p class="cheer-empty">ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸŒ¿</p>
        </div>
        <div class="cheer-input">
            <input type="text" id="cheerInput" placeholder="ì˜ê²¬ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”" maxlength="100">
            <button onclick="submitCheer()">ì „ì†¡</button>
        </div>
    </section>

    <!-- 6: CTA -->
    <section class="card bg-paper" data-i="5">
        <span class="tag" style="background:var(--pencil-orange);">ì„¤ë§ì´ ì¦ì •</span>
        <h2 class="title">
            10ë§Œì› ì´ìƒ êµ¬ë§¤ ì‹œ<br>
            <span class="hl-green">ë¬´ë£Œ ì¦ì •</span>
        </h2>
        <div class="img-frame">
            <img src="gift_product.jpg" alt="ìƒ˜í”Œí‚¤íŠ¸">
        </div>
        <p class="desc" style="margin-bottom:20px;">
            <span class="hl-pink">3ë°•ìŠ¤ Ã— 5ì¢…</span> = ì´ 15ê°œ!
        </p>
        <span class="tag tag-alert">ì„ ì°©ìˆœ 3,000ëª… í•œì •</span>
        <a href="https://ecoop.or.kr" class="btn btn-large btn-dark">ì§€ê¸ˆ ì£¼ë¬¸í•˜ëŸ¬ ê°€ê¸°</a>
        <div class="warm-text" id="warmText2"></div>
    </section>

    <footer class="footer">
        <p>ë‘ë ˆìƒí˜‘ ìƒí™œì˜ ë°œê²¬ Â· 2026 W06</p>
    </footer>

    <!-- ê°ì‚¬ íŒì—… -->
    <div class="thank-popup" id="thankPopup">
        <div class="thank-popup-inner">
            <p style="font-size:40px; margin-bottom:12px;">ğŸŒ¿</p>
            <h3>í’€ë¹›ê³ ìš´</h3>
            <p id="thankMessage">ê°ì‚¬í•©ë‹ˆë‹¤!</p>
            <button class="btn" onclick="closeThankPopup()">í™•ì¸</button>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script>
        // Firebase ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyDrb6CvMBn9jSfDeuwWseJywFHLbChNr4U",
            authDomain: "durunioncoop.firebaseapp.com",
            projectId: "durunioncoop",
            storageBucket: "durunioncoop.firebasestorage.app",
            messagingSenderId: "439719435906",
            appId: "1:439719435906:web:3d1d841ad6e80939eb5e9b"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ë”°ëœ»í•œ ë¬¸êµ¬ë“¤
        const warmMessages = [
            "ì˜¤ëŠ˜ë„ ê±´ê°•í•˜ê³  ì•„ë¦„ë‹¤ìš´ í•˜ë£¨ ë˜ì„¸ìš” ğŸŒ¸",
            "í”¼ë¶€ì— ì¢‹ì€ ê²ƒë§Œ ë“œë¦¬ê³  ì‹¶ì–´ìš” ğŸ’š",
            "ìì—°ì˜ í˜ì„ ë‹´ì•˜ìŠµë‹ˆë‹¤ ğŸŒ¿",
            "ì¡°í•©ì›ë‹˜ì˜ í”¼ë¶€ë¥¼ ì‘ì›í•´ìš” âœ¨",
            "ê±´ê°•í•œ ì•„ë¦„ë‹¤ì›€ì„ ì„ ë¬¼í•©ë‹ˆë‹¤ ğŸ",
            "ë¯¿ì„ ìˆ˜ ìˆëŠ” ìƒí˜‘ í™”ì¥í’ˆì´ì—ìš” ğŸ’•",
            "ì„¤ ëª…ì ˆ, ë”°ëœ»í•˜ê²Œ ë³´ë‚´ì„¸ìš” ğŸ§§",
            "ì†Œì¤‘í•œ ë¶„ê»˜ ì„ ë¬¼í•˜ê¸° ì¢‹ì•„ìš” ğŸ€"
        ];

        // ìƒì‚°ì ë‹µë³€ ë¬¸êµ¬
        const replyMessages = [
            "ê°ì‚¬í•©ë‹ˆë‹¤~ ğŸ’š ë” ì¢‹ì€ ì œí’ˆìœ¼ë¡œ ë³´ë‹µí• ê²Œìš”!",
            "ì†Œì¤‘í•œ ì˜ê²¬ ê°ì‚¬í•´ìš”~ ğŸŒ¿",
            "ì¡°í•©ì›ë‹˜ ë•ë¶„ì— í˜ì´ ë‚©ë‹ˆë‹¤!",
            "ì¢‹ì€ ì„±ë¶„ë§Œ ë‹´ì„ê²Œìš”~ ê°ì‚¬í•©ë‹ˆë‹¤ âœ¨",
            "ë”°ëœ»í•œ ë§ì”€ ì •ë§ ê°ì‚¬ë“œë ¤ìš” ğŸ™",
            "í”¼ë¶€ ê±´ê°• ì‘ì›í• ê²Œìš”~ ğŸ’•",
            "ìì—° ê·¸ëŒ€ë¡œì˜ ì¢‹ì€ ê²ƒë§Œ ë“œë¦´ê²Œìš”!",
            "ê°ì‚¬í•©ë‹ˆë‹¤~ í–‰ë³µí•œ ì„¤ ë˜ì„¸ìš” ğŸ§§"
        ];

        // ë”°ëœ»í•œ ë¬¸êµ¬ í‘œì‹œ
        function showWarmText() {
            const warm1 = document.getElementById('warmText1');
            const warm2 = document.getElementById('warmText2');
            if (warm1) {
                warm1.textContent = warmMessages[Math.floor(Math.random() * warmMessages.length)];
            }
            if (warm2) {
                warm2.textContent = warmMessages[Math.floor(Math.random() * warmMessages.length)];
            }
        }
        showWarmText();
        setInterval(showWarmText, 5000);

        // ë©”ì‹œì§€ ì»¬ë ‰ì…˜
        const messagesRef = db.collection('pulbitgoun-messages');

        // ë©”ì‹œì§€ ë¡œë“œ
        messagesRef.orderBy('timestamp', 'desc').limit(30).onSnapshot((snapshot) => {
            const container = document.getElementById('cheerMessages');
            if (snapshot.empty) {
                container.innerHTML = '<p class="cheer-empty">ì²« ë²ˆì§¸ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”! ğŸŒ¿</p>';
                return;
            }

            container.innerHTML = '';
            const messages = [];
            snapshot.forEach(doc => messages.push({ id: doc.id, ...doc.data() }));
            messages.reverse();

            messages.forEach((msg, idx) => {
                // ì‚¬ìš©ì ë©”ì‹œì§€
                const userBubble = document.createElement('div');
                userBubble.className = 'msg-bubble msg-user';
                userBubble.innerHTML = `
                    <div class="msg-content">${escapeHtml(msg.text)}</div>
                    <div class="msg-time">${formatTime(msg.timestamp)}</div>
                `;
                container.appendChild(userBubble);

                // ìƒì‚°ì ë‹µë³€
                const replyBubble = document.createElement('div');
                replyBubble.className = 'msg-bubble msg-producer';
                replyBubble.innerHTML = `
                    <div class="msg-avatar">ğŸŒ¿</div>
                    <div>
                        <div class="msg-content">${replyMessages[idx % replyMessages.length]}</div>
                    </div>
                `;
                container.appendChild(replyBubble);
            });

            container.scrollTop = container.scrollHeight;
        });

        // ë©”ì‹œì§€ ì „ì†¡
        function submitCheer() {
            const input = document.getElementById('cheerInput');
            const text = input.value.trim();
            if (!text) return;

            messagesRef.add({
                text: text,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                input.value = '';
                showThankPopup();
            });
        }

        // ì—”í„°í‚¤ ì „ì†¡
        document.getElementById('cheerInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') submitCheer();
        });

        // ê°ì‚¬ íŒì—…
        function showThankPopup() {
            const popup = document.getElementById('thankPopup');
            const msg = document.getElementById('thankMessage');
            msg.textContent = replyMessages[Math.floor(Math.random() * replyMessages.length)];
            popup.style.display = 'flex';
        }

        function closeThankPopup() {
            document.getElementById('thankPopup').style.display = 'none';
        }

        // ì‹œê°„ í¬ë§·
        function formatTime(timestamp) {
            if (!timestamp) return '';
            const date = timestamp.toDate();
            const hours = date.getHours();
            const minutes = date.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'ì˜¤í›„' : 'ì˜¤ì „';
            return `${ampm} ${hours % 12 || 12}:${minutes}`;
        }

        // HTML ì´ìŠ¤ì¼€ì´í”„
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„°
        const cards = document.querySelectorAll('[data-i]');
        const dots = document.querySelectorAll('.dot');

        const obs = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    const i = e.target.dataset.i;
                    dots.forEach((d, idx) => d.classList.toggle('active', idx == i));
                }
            });
        }, { threshold: 0.5 });

        cards.forEach(c => obs.observe(c));
        dots.forEach(d => d.onclick = () => cards[d.dataset.i].scrollIntoView({ behavior: 'smooth' }));
    </script>
</body>
</html>
